<!DOCTYPE html>
<html lang="en">
  <head>
    <title>teacing-academy</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link href="https://fonts.googleapis.com/css?family=Nunito+Sans:300,400,600,700,800,900&display=swap" rel="stylesheet">
<link rel="shortcut icon" href="http://www.kmitl.ac.th/frontend/images/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="css/open-iconic-bootstrap.min.css">
    <link rel="stylesheet" href="css/animate.css">

    <link rel="stylesheet" href="css/owl.carousel.min.css">
    <link rel="stylesheet" href="css/owl.theme.default.min.css">
    <link rel="stylesheet" href="css/magnific-popup.css">

    <link rel="stylesheet" href="css/aos.css">

    <link rel="stylesheet" href="css/ionicons.min.css">

    <link rel="stylesheet" href="css/flaticon.css">
    <link rel="stylesheet" href="css/icomoon.css">
	<link rel="stylesheet" href="css/style.css">
	<link rel="stylesheet" href="css/style1.css">
  </head>
  <style>
.fontSetting
{
  font-family : Impact,sans-serif;
  font-size: 50px;
  font-weight: 1px;
  color: #CDBE70;
}

.fontSetting2
{
  font-family : Impact,sans-serif;
  font-size: 38px;
  font-weight: 1px;
  color: #CDBE70;
}
.fontSetting3
{
  text-align: center;
}
.fontSettingPX
{
  font-size: 100px;
}
</style>
  <body>


    	
	  <section class="hero-wrap hero-wrap-2" style="background-image: url('images/bg_1.jpg');">
        <div class="overlay"></div>
        <div class="container">
          <div class="row no-gutters slider-text align-items-center justify-content-center">
            <div class="col-md-9 ftco-animate text-center">
              <h1 class="mb-2 bread">รายการการแข่งขัน</h1>
            </div>
          </div>
        </div>
      </section>
	<!-- END nav -->
	<div class="container"><br><br>
	
		<table class="table table-bordered ftco-animate">
			<thead class="thead-dark">
			  <tr>
				<th scope="col">รายการการแข่งขัน
				<th scope="col">สถานะการแข่งขัน
				<th scope="col">เวลา</th>
			  </tr>
			</thead>
			<thead class="fontSettingPX">
			  <tbody>
				
			  <tr>
				<th scope="row">การแข่งขันหุ่นยนต์
				<td id="finish" > ยังไม่ได้ทำการแข่งขัน </td id="finish">
				<td id="time" > 20.00 </td>
			  </tr>
			</tbody>
		  </thead>
		  </table>
</div>
</div>
<br>

   <!-- Footer -->
<footer class="page-footer font-small indigo">
	<div class="footer-colour-N1">
	<!-- Footer Links -->
	<div class="container">
	  <!-- Grid row-->
	  <div class="row text-center d-flex justify-content-center pt-5 mb-3">

		<!-- Grid column -->
		<div class="col-md-2 mb-3 ftco-animate">
		  <h6 class="text-uppercase font-weight-bold">
			<a href="index.html">หน้าแรก</a>
		  </h6>
		</div>
		<!-- Grid column -->

		<!-- Grid column -->
		<div class="col-md-2 mb-3 ftco-animate">
		  <h6 class="text-uppercase font-weight-bold">
			<a href="https://docs.google.com/forms/d/e/1FAIpQLSdzB32fNcNqaSYGru3nRdJ8LUdsYY2sOKJTks-1Dbhlv1_XLw/viewform">สมัครเข้าร่วมแข่งขัน</a>
		  </h6>
		</div>
		<!-- Grid column -->

		<!-- Grid column -->
		<div class="col-md-2 mb-3 ftco-animate">
		  <h6 class="text-uppercase font-weight-bold">
			<a href="rules.html">กติกา</a>
		  </h6>
		</div>
		<!-- Grid column -->

		<!-- Grid column -->
		<div class="col-md-2 mb-3 ftco-animate">
		  <h6 class="text-uppercase font-weight-bold">
			<a href="download.html">ดาวน์โหลด</a>
		  </h6>
		</div>
		<!-- Grid column -->

		<!-- Grid column -->
		<div class="col-md-2 mb-3 ftco-animate">
		  <h6 class="text-uppercase font-weight-bold">
			<a href="connect.html">ติดต่อ</a>
		  </h6>
		</div>
		<!-- Grid column -->

	  </div>
	  <!-- Grid row-->
	  <hr class="rgba-white-light" style="margin: 0 15%;">

	  <!-- Grid row-->
	  <div class="row d-flex text-center justify-content-center mb-md-0 mb-4">

		<!-- Grid column -->
		<div class="col-md-8 col-12 mt-5 ftco-animate">
			<!--	<img src="images/sponsor/INEXLOGO.png" alt="..." class="img-thumbnail">--> 
				<div class="fontSetting">Sponsored  by</div> <br>
				<div class="fontSetting2">PLATINUM</div> <br>
			  <img src="images/sponsor/sponser_๒๐๐๑๑๗_0007.jpg" width="150" > &nbsp;&nbsp;&nbsp; <img src="images/sponsor/sponser_๒๐๐๑๑๗_0005.jpg" width="150" > &nbsp;&nbsp;&nbsp;<img src="images/sponsor/S_AD.jpg" width="150" >&nbsp;&nbsp;&nbsp;<img src="images/sponsor/samsung.jpg" width="150" ><br><br><img src="images/sponsor/applicad.jpg" width="150" ><br>
			  <div class="fontSetting2">SILVER</div> <br>
			  <img src="images/sponsor/sponser_๒๐๐๑๑๗_0009.jpg" width="150" >&nbsp;&nbsp;&nbsp;<img src="images/sponsor/pammastic.jpg" width="150" >&nbsp;&nbsp;&nbsp;<img src="images/sponsor/COCO.jpg" width="150" >&nbsp;&nbsp;&nbsp;<img src="images/sponsor/Smile.jpg" width="150" ><br><br>
			  <div class="fontSetting">Supported by</div><br>
			  <img src="images/sponsor/sponser_๒๐๐๑๑๗_0003.jpg" width="150" > &nbsp;&nbsp;&nbsp;<img src="images/sponsor/ietech2.png" width="150" >&nbsp;&nbsp;&nbsp;<img src="images/sponsor/S_SPVI.jpg" width="150" >&nbsp;&nbsp;&nbsp;<img src="images/sponsor/mogen.jpg" width="150" ><br><br><img src="images/sponsor/smart.jpg" width="150" >&nbsp;&nbsp;&nbsp;<img src="images/sponsor/lactasoy.jpg" width="150" > <br><br>
			  <div class="fontSetting">Organized by </div><br>
			  <img src="images/sponsor/sponser_๒๐๐๑๑๗_0008.jpg" width="150" > &nbsp;&nbsp;&nbsp;
			  <img src="images/sponsor/sponser_๒๐๐๑๑๗_0004.jpg" width="150" > 
			</br><br><br>
			</div>
		<div class="col-md-8 col-12 mt-5 ftco-animate">

			<h4>ที่ตั้งคณะครุศาสตร์อุตสาหกรรมและเทคโนโลยี</h4>
		  <p style="line-height: 1.7rem">คณะครุศาสตร์อุตสาหกรรมและเทคโนโลยี
			สถาบันเทคโนโลยีพระจอมเกล้าเจ้าคุณทหารลาดกระบัง
			เลขที่ 1 ซอยฉลองกรุง 1 แขวงลาดกระบัง
			เขตลาดกระบัง กรุงเทพ 10520
			โทรศัพท์ 02-3298000 ต่อ 3689, 3723 โทรสาร 02-3298435
			<a class="fb-ic">
				<li class="fab fa-facebook-f fa-lg white-text mr-4"> https://www.facebook.com/pr.idedkmitl/</li>
			  </a>	
		</p>
		</div>
		<!-- Grid column -->

	  </div>
	  <!-- Grid row-->
	  <hr class="clearfix d-md-none rgba-white-light" style="margin: 10% 15% 5%;">

	  <!-- Grid row-->
	  <div class="row pb-3">

		<!-- Grid column -->
		<div class="col-md-12">

		  <div class="mb-5 flex-center">

			
			<!-- Twitter -->
			<a class="tw-ic">
			  <i class="fab fa-twitter fa-lg white-text mr-4"> </i>
			</a>
			<!-- Google +-->
			<a class="gplus-ic">
			  <i class="fab fa-google-plus-g fa-lg white-text mr-4"> </i>
			</a>
			<!--Linkedin -->
			<a class="li-ic">
			  <i class="fab fa-linkedin-in fa-lg white-text mr-4"> </i>
			</a>
			<!--Instagram-->
			<a class="ins-ic">
			  <i class="fab fa-instagram fa-lg white-text mr-4"> </i>
			</a>
			<!--Pinterest-->
			<a class="pin-ic">
			  <i class="fab fa-pinterest fa-lg white-text"> </i>
			</a>

		  </div>

		</div>
		<!-- Grid column -->

	  </div>
	  <!-- Grid row-->

	</div>
	<!-- Footer Links -->
</div>
	<!-- Copyright -->
	<div class="footer-colour-N2">
	<div class="footer-copyright text-center py-3 ftco-animate">Faculty of Industrial Education and Technology. All Rights Reserved.<br>
		คณะครุศาสตร์อุตสาหกรรมและเทคโนโลยี สถาบันเทคโนโลยีพระจอมเกล้าเจ้าคุณทหารลาดกระบัง
	</div>
	<!-- Copyright -->
  </div>
  </footer>
  <!-- Footer -->



  <!-- loader -->
  <div id="ftco-loader" class="show fullscreen"><svg class="circular" width="48px" height="48px"><circle class="path-bg" cx="24" cy="24" r="22" fill="none" stroke-width="4" stroke="#eeeeee"/><circle class="path" cx="24" cy="24" r="22" fill="none" stroke-width="4" stroke-miterlimit="10" stroke="#F96D00"/></svg></div>


  <script src="js/jquery.min.js"></script>
  <script src="js/jquery-migrate-3.0.1.min.js"></script>
  <script src="js/popper.min.js"></script>
  <script src="js/bootstrap.min.js"></script>
  <script src="js/jquery.easing.1.3.js"></script>
  <script src="js/jquery.waypoints.min.js"></script>
  <script src="js/jquery.stellar.min.js"></script>
  <script src="js/owl.carousel.min.js"></script>
  <script src="js/jquery.magnific-popup.min.js"></script>
  <script src="js/aos.js"></script>
  <script src="js/jquery.animateNumber.min.js"></script>
  <script src="js/scrollax.min.js"></script>
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBVWaKrjvy3MaE7SQ74_uJiULgl1JY0H2s&sensor=false"></script>
  <script src="js/google-map.js"></script>
  <script src="js/main.js"></script>
  <!-- The core Firebase JS SDK is always required and must be listed first -->
<script src="https://www.gstatic.com/firebasejs/7.8.0/firebase-app.js"></script>

<!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->
<script src="https://www.gstatic.com/firebasejs/7.8.0/firebase-analytics.js"></script>

<script>
  // Your web app's Firebase configuration
  var firebaseConfig = {
    apiKey: "AIzaSyDcFQbnormi7O8V7Ch3T5tFvoJRQNtyaGQ",
    authDomain: "teaching-time.firebaseapp.com",
    databaseURL: "https://teaching-time.firebaseio.com",
    projectId: "teaching-time",
    storageBucket: "teaching-time.appspot.com",
    messagingSenderId: "167940279056",
    appId: "1:167940279056:web:63e88d36323a0a75e9b395",
    measurementId: "G-ZZFLSB78GJ"
  };
  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);
  firebase.analytics();
</script>
<script src="https://www.gstatic.com/firebasejs/7.8.0/firebase-database.js"></script>
<script>
var counter = 0;
var counter2 = 0;
var get = 0;
var nowsec = 0;
var nowmin = 3;
var value = 0;
var a = 0;
var b = 0;
var sec = firebase.database().ref("KMITL/1/sec");
var min = firebase.database().ref("KMITL/1/min");
	sec.once('value').then(function(dataSnapshot1){
		var ss = dataSnapshot1.val();
		min.once('value').then(function(dataSnapshot2){
			var mm = dataSnapshot2.val();
			if(ss < 10)
			{
				ss = '0'+String(ss)
			}
			document.getElementById("time").innerHTML = (mm) +"<span>:</span>"+ (ss);
		})	
	})
var fi = firebase.database().ref("KMITL/1/finish");
fi.once('value').then(function(dataSnapshot){
	if(dataSnapshot.val()==2)
	{
		document.getElementById("finish").innerHTML = "ยังไม่ได้ทำการแข่งขัน";
	}
	else if (dataSnapshot.val() == 1)
	{
		document.getElementById("finish").innerHTML = "แข่งขันเสร็จสิ้น";
	} 
	else if (dataSnapshot.val() == 0)
	{
		document.getElementById("finish").innerHTML = "กำลังแข่งขัน";
	}
})
startCount();
function startCount()
{
  var strr=firebase.database().ref("KMITL/1/i");
  var a = 0;

  strr.once('value').then(function(dataSnapshot){
    console.log(dataSnapshot.val());
    //document.getElementById("h3").innerHTML=dataSnapshot.val();
    a = dataSnapshot.val();
    if (a==1)
    {
      get =1200;
      display();
    }
    else {
		startCount();
    }
  })
 
}

function display() {
  	nowmin = Math.floor(get/60)
	nowsec = get%60;
	var db = firebase.database().ref("KMITL/1");	
	if(b == 0)
	{
		if (get>=0)
  		{
		if(nowsec < 10 && nowsec != 0)
		{
			nowmin = '0'+String(nowmin)
		}
		db.update({min:19-nowmin,sec:60-nowsec})
		var fi = firebase.database().ref("KMITL/1/finish");
		fi.once('value').then(function(dataSnapshot){
		if(dataSnapshot.val()==2)
			{
				document.getElementById("finish").innerHTML = "ยังไม่ได้ทำการแข่งขัน";
			}
		else if (dataSnapshot.val() == 1)
			{
				document.getElementById("finish").innerHTML = "แข่งขันเสร็จสิ้น";
			} 
		else if (dataSnapshot.val() == 0)
			{
				document.getElementById("finish").innerHTML = "กำลังแข่งขัน";
			}
		})
  		document.getElementById("time").innerHTML = nowmin+"<span>:</span>"+nowsec;
  		get = get - 1 ;
		setTimeout("display()",1000);
		var r = 0;
    	var stpr = firebase.database().ref("KMITL/1/i");
    	stpr.once('value').then(function(dataSnapshot){
      	r = dataSnapshot.val();
      	if (r==0){
			var sec = firebase.database().ref("KMITL/1/sec");
			var min = firebase.database().ref("KMITL/1/min");
			sec.once('value').then(function(dataSnapshot1){
				var ss = dataSnapshot1.val();
			min.once('value').then(function(dataSnapshot2){
				var mm = dataSnapshot2.val();
				if(ss < 10)
				{
					ss = '0'+String(ss)
				}
				document.getElementById("time").innerHTML = (mm) +"<span>:</span>"+ (ss);
			})	
			})
			get = 0;
			b = 1;
      	}
  		})
  		}
	}
	else
	{
		console.log(".")
	}  
  	
}
function stop()
  {
	console.log("finish")
	get = 0;
  }


</script>

  </body>
</html>
